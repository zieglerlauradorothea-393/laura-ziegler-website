---
interface Props {
  title: string;
  subtitle?: string;
  tags?: string[];
  showCta?: boolean;
  heroImage?: string;
  bgColor?: string;
  useLineBreaks?: boolean;
}

const { 
  title, 
  subtitle, 
  tags = [], 
  showCta = true,
  heroImage = '/images/laura-hero.jpeg',
  bgColor = 'lavender',
  useLineBreaks = false
} = Astro.props;

// Titel mit Zeilenumbrüchen formatieren
const formatTitle = (t: string) => {
  if (!useLineBreaks) return t;
  return t
    .replace('Projekte,', 'Projekte,<br/>')
    .replace('die laufen.', 'die laufen.<br/>')
    .replace('Veranstaltungen,', 'Veranstaltungen,<br/>');
};
---

<section class="relative min-h-[70vh] xl:min-h-[85vh] flex items-center" style={`background-color: var(--color-${bgColor});`}>
  <!-- Wellige Linie oben -->
  <div class="absolute top-0 left-0 right-0 h-2 md:h-3 z-30" style="background-color: var(--color-coral);"></div>
  
  <div class="container py-12 md:py-16 xl:py-24">
    <div class="flex flex-col xl:flex-row xl:items-center gap-8 xl:gap-12">
      <!-- Text Content -->
      <div class="flex-1 relative z-20">
        
        <!-- Title -->
        <h1 class="text-black mb-4 md:mb-6" set:html={formatTitle(title)}>
        </h1>
        
        <!-- Subtitle -->
        {subtitle && (
          <p class="text-lg md:text-xl xl:text-2xl text-black/80 leading-relaxed mb-6 md:mb-8 max-w-lg font-medium">
            {subtitle}
          </p>
        )}
        
        <!-- CTA Buttons - farbig -->
        {showCta && (
          <div class="flex flex-col sm:flex-row flex-wrap gap-3 md:gap-4">
            <a href="/kontakt" class="btn-bubble btn-bubble-blue text-center justify-center">
              <span>Projekt anfragen</span>
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </a>
            <a href="/#arbeitsweise" class="btn-bubble btn-bubble-yellow text-center justify-center">
              So arbeite ich
            </a>
          </div>
        )}
      </div>
      
      <!-- Photo with Shape - nur auf großen Desktops (xl: 1280px+) -->
      <div class="flex-shrink-0 hidden xl:flex justify-end">
        <div class="relative w-80 2xl:w-96">
          <!-- Farbiger Shape hinter dem Foto -->
          <div 
            class="absolute -inset-4 rounded-[60%_40%_30%_70%/60%_30%_70%_40%] z-0"
            style="background-color: var(--color-coral);"
            aria-hidden="true"
          ></div>
          
          <!-- Foto -->
          <img 
            src={heroImage}
            alt="Laura Ziegler"
            class="relative z-10 w-full rounded-3xl object-cover object-top"
            style="aspect-ratio: 3/4;"
            loading="eager"
          />
        </div>
      </div>
    </div>
  </div>
</section>
